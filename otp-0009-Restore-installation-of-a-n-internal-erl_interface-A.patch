From: Peter Lemenkov <lemenkov@gmail.com>
Date: Tue, 26 Jun 2012 15:16:39 +0400
Subject: [PATCH] Restore installation of a n internal erl_interface API
 headers

See rhbz #818419 for the explanation why they're necessary for low-level
interaction with Erlang nodes:

https://bugzilla.redhat.com/818419

Signed-off-by: Peter Lemenkov <lemenkov@gmail.com>
---
 lib/erl_interface/src/Makefile.in | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

diff --git a/lib/erl_interface/src/Makefile.in b/lib/erl_interface/src/Makefile.in
index 9aeba86..dafd2ce 100644
--- a/lib/erl_interface/src/Makefile.in
+++ b/lib/erl_interface/src/Makefile.in
@@ -843,14 +843,33 @@ EXTRA = \
 	$(TARGET)/eidefs.mk
 
 release: opt
+<<<<<<< HEAD
 	$(INSTALL_DIR) "$(RELSYSDIR)/include"
 	$(INSTALL_DIR) "$(RELSYSDIR)/lib"
 	$(INSTALL_DIR) "$(RELSYSDIR)/bin"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/auxdir"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/connect"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/decode"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/encode"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/epmd"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/legacy"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/misc"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/prog"
+	$(INSTALL_DIR) "$(RELSYSDIR)/src/registry"
 	$(INSTALL_DATA) $(HEADERS)     "$(RELSYSDIR)/include"
 	$(INSTALL_DATA) $(OBJ_TARGETS) "$(RELSYSDIR)/lib"
 ifneq ($(EXE_TARGETS),)
 	$(INSTALL_PROGRAM) $(EXE_TARGETS) "$(RELSYSDIR)/bin"
 endif
+	$(INSTALL_DATA) $(EXTRA)        "$(RELSYSDIR)/src"
+	$(INSTALL_DATA) connect/*.h  "$(RELSYSDIR)/src/connect"
+	$(INSTALL_DATA) decode/*.h   "$(RELSYSDIR)/src/decode"
+	$(INSTALL_DATA) encode/*.h   "$(RELSYSDIR)/src/encode"
+	$(INSTALL_DATA) epmd/*.h     "$(RELSYSDIR)/src/epmd"
+	$(INSTALL_DATA) misc/*.h     "$(RELSYSDIR)/src/misc"
+	$(INSTALL_DATA) registry/*.h "$(RELSYSDIR)/src/registry"
+	$(INSTALL_DATA) legacy/*.h   "$(RELSYSDIR)/src/legacy"
+	$(INSTALL_DATA) prog/*.h     "$(RELSYSDIR)/src/prog"
 
 release_docs:
 
